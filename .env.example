# FDA Tools Docker Environment Configuration
# Copy this file to .env and customize for your environment
# NEVER commit .env to version control - it contains secrets
# Version: 5.36.0+docker

# ============================================================================
# ENVIRONMENT CONFIGURATION
# ============================================================================
# Options: development, testing, staging, production
ENVIRONMENT=production

# FDA Tools version tag
FDA_VERSION=5.36.0

# Python version for Docker build
PYTHON_VERSION=3.11

# Enable optional dependencies (OCR, ML, Excel export, etc.)
ENABLE_OPTIONAL_DEPS=true

# ============================================================================
# API KEYS (NEVER COMMIT THESE - USE SECURE KEY MANAGEMENT)
# ============================================================================
# OpenFDA API key (optional - increases rate limits)
# Get your key at: https://open.fda.gov/apis/authentication/
OPENFDA_API_KEY=

# Google Gemini API key (if using AI features)
# Get your key at: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=

# Anthropic Claude API key (if using Claude for analysis)
ANTHROPIC_API_KEY=

# OpenAI API key (if using GPT models)
OPENAI_API_KEY=

# Linear API key (for issue tracking integration)
LINEAR_API_KEY=

# FDA Bridge Server API key (generate with: openssl rand -hex 32)
FDA_BRIDGE_API_KEY=

# ============================================================================
# SERVICE PORTS
# ============================================================================
# Main FDA Tools service port
FDA_PORT=8080

# Bridge server port (for OpenClaw integration)
FDA_BRIDGE_PORT=18790

# PostgreSQL external port (if using database profile)
POSTGRES_EXTERNAL_PORT=5432

# Redis external port (if using cache profile)
REDIS_EXTERNAL_PORT=6379

# Prometheus monitoring port
PROMETHEUS_PORT=9090

# Grafana dashboard port
GRAFANA_PORT=3000

# ============================================================================
# RESOURCE LIMITS
# ============================================================================
# FDA Tools main service
FDA_CPU_LIMIT=2.0
FDA_CPU_RESERVATION=0.5
FDA_MEMORY_LIMIT=4G
FDA_MEMORY_RESERVATION=1G

# ============================================================================
# POSTGRESQL CONFIGURATION (optional - used with --profile database)
# ============================================================================
POSTGRES_DB=fda_tools
POSTGRES_USER=fdatools
POSTGRES_PASSWORD=changeme_strong_password_here

# Database connection URL (alternative to separate vars)
# DATABASE_URL=postgresql://fdatools:password@postgres:5432/fda_tools

POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# ============================================================================
# REDIS CONFIGURATION (optional - used with --profile cache)
# ============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_MAXMEMORY=512mb

# Redis password (recommended for production)
REDIS_PASSWORD=

# Redis connection URL (alternative to separate vars)
# REDIS_URL=redis://:password@redis:6379/0

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: text, json
LOG_FORMAT=json

# ============================================================================
# FDA TOOLS FEATURE FLAGS
# ============================================================================
# Enable data enrichment features
FDA_ENABLE_ENRICHMENT=true

# Enable caching
FDA_ENABLE_CACHING=true

# ============================================================================
# FDA TOOLS PATHS (inside container)
# ============================================================================
# These are container paths - mount volumes to these locations
FDA_DATA_DIR=/data
FDA_CACHE_DIR=/cache
FDA_LOG_DIR=/logs
FDA_CONFIG_FILE=/config/config.toml

# Host path to config file (mounted into container)
FDA_CONFIG_PATH=./plugins/fda-tools/config.toml

# Host path to projects directory (for development)
FDA_PROJECTS_DIR=./projects

# ============================================================================
# NETWORK CONFIGURATION
# ============================================================================
FDA_NETWORK_SUBNET=172.25.0.0/16
FDA_NETWORK_GATEWAY=172.25.0.1

# ============================================================================
# MONITORING CONFIGURATION (--profile monitoring)
# ============================================================================
# Grafana credentials
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin_change_this

# Prometheus data retention
PROMETHEUS_RETENTION=30d

# ============================================================================
# RATE LIMITING (Bridge Server)
# ============================================================================
FDA_BRIDGE_RATE_LIMIT=60/minute
FDA_BRIDGE_RATE_LIMIT_EXECUTE=30/minute

# ============================================================================
# SECURITY SETTINGS
# ============================================================================
# TLS/SSL configuration (if needed)
# FDA_TLS_ENABLED=false
# FDA_TLS_CERT=/certs/cert.pem
# FDA_TLS_KEY=/certs/key.pem

# ============================================================================
# DEVELOPMENT SETTINGS (only use in development environment)
# ============================================================================
# Enable debug mode
# DEBUG=false

# Enable auto-reload (development only)
# RELOAD=false

# ============================================================================
# PRODUCTION CHECKLIST
# ============================================================================
# Before deploying to production:
# ✓ Change all default passwords
# ✓ Set strong POSTGRES_PASSWORD
# ✓ Set REDIS_PASSWORD
# ✓ Generate unique FDA_BRIDGE_API_KEY
# ✓ Set ENVIRONMENT=production
# ✓ Set LOG_LEVEL=WARNING or ERROR
# ✓ Configure API keys via secure secret management
# ✓ Review resource limits
# ✓ Enable TLS/SSL for external connections
# ✓ Set up monitoring (--profile monitoring)
# ✓ Configure backup strategy for volumes
# ✓ Review network security settings
# ============================================================================
