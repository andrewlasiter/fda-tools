[pytest]
# FDA-55: pythonpath entries are relative to rootdir (this directory).
# This ensures imports work regardless of the CWD from which pytest is invoked.
pythonpath = . scripts lib tests
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts = -v --tb=short --strict-markers
markers =
    api: tests that require network access to openFDA API
    pma: tests for PMA Intelligence Module (TICKET-003)
    integration: tests for 510(k)-PMA integration (TICKET-003 Phase 1.5)
    phase4: tests for PMA Advanced Analytics & ML (TICKET-003 Phase 4)
    phase5: tests for Real-time Data Pipelines & Monitoring (TICKET-003 Phase 5)
    smart: tests for Smart Auto-Update Change Detector (v5.36.0)
    sim: tests for Section Comparison Analytics (v5.36.0)
    quickwin: Quick Win tests from TESTING_SPEC.md
    urgent: URGENT priority fixes (FDA-32, FDA-33, FDA-34)
    compliance: Compliance and regulatory requirement tests
    lib: Tests for lib/ modules (FDA-29)
    validators: Input validation tests (FDA-25)
    unit: Unit tests (single function/method testing)
    scripts: Tests for scripts/ modules (FDA-28)
    cache_integrity: Cache integrity verification tests (GAP-011 / FDA-71)
    logging: Logging configuration tests (GAP-014 / FDA-18)
    api_contract: Quarterly API contract tests for fixture staleness detection (FDA-56)
    skills: Skill definition validation tests (FDA-54)
    ml_validation: ML model validation tests (FDA-52)
    sqlite: SQLite fingerprint storage tests (FDA-40)
    analytics: Usage analytics tests (FDA-53)
    third_party: Third-party review integration tests (FDA-42)
    batch_smart: Batch smart detection across all projects (FDA-38)
    breakthrough: Breakthrough device designation support tests (FDA-43)
    annual_report: PMA annual report generator enhancement tests (FDA-66)
    pas_enhanced: Post-approval study monitoring enhancement tests (FDA-64)
    hde: Humanitarian Device Exemption support tests (FDA-44)
    rwe: Real World Evidence integration tests (FDA-41)
    de_novo: De Novo classification request support tests (FDA-45)
    phase1: Phase 1 Data Integrity tests
    phase2: Phase 2 Intelligence Layer tests
    workflow: End-to-end workflow tests
    integrity: Data integrity and provenance tests
    slow: Tests that make real API calls (deselect with -m "not slow")
    # E2E Test Markers (FDA-186 QA-001)
    e2e: All end-to-end tests
    e2e_510k: Traditional 510(k) submission e2e tests (P0)
    e2e_pma: PMA submission e2e tests (P0)
    e2e_special: Special 510(k) submission e2e tests (P1)
    e2e_denovo: De Novo submission e2e tests (P1)
    e2e_abbreviated: Abbreviated 510(k) submission e2e tests (P2)
    e2e_ide: IDE submission e2e tests (P3)
    e2e_openclaw: OpenClaw bridge integration e2e tests (P1)
    e2e_compliance: Regulatory compliance validation tests (P0)
    e2e_data_collection: Data collection stage tests
    e2e_analysis: Analysis stage tests
    e2e_drafting: Drafting stage tests
    e2e_assembly: Assembly stage tests
    e2e_validation: Validation stage tests
    e2e_edge_cases: Edge case tests (SaMD, combination, sparse data, Class U)
    e2e_security: Security and authentication tests
    e2e_fast: Fast e2e tests (<5s each)
    e2e_integration: Integration tests requiring real API calls
    e2e_config: Configuration and settings tests
    e2e_api: API integration and error handling tests
    e2e_pipeline: Data pipeline integrity tests
    e2e_orchestration: Multi-agent orchestration tests
    e2e_reports: Report generation tests
