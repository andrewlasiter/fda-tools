# FDA Tools Plugin - Python Dependencies
# Per 21 CFR 820.70(i): Version bounds ensure reproducible builds.
# Upper bounds prevent unexpected breaking changes from new major versions.
# Update procedure: Review changelogs, test, then bump bounds.
# Lock file: See requirements-lock.txt for exact pinned versions.

# Shared
requests>=2.31.0,<3.0.0
tqdm>=4.66.0,<5.0.0

# PredicateExtraction (predicate_extractor.py)
PyMuPDF>=1.23.0,<2.0.0
pdfplumber>=0.10.0,<1.0.0
orjson>=3.9.0,<4.0.0
ijson>=3.2.0,<4.0.0

# BatchFetch (batchfetch.py) - Core dependencies
pandas>=2.0.0,<3.0.0
numpy>=1.24.0,<2.0.0

# BatchFetch (batchfetch.py) - Optional dependencies
# These enable additional features but have graceful fallbacks if missing.
# See requirements-batchfetch-optional.txt for details.
# Uncomment to install optional features:
# tqdm>=4.66.0,<5.0.0          # Progress bars
# colorama>=0.4.6,<1.0.0        # Colored output
# pytesseract>=0.3.10,<1.0.0    # OCR support
# pdf2image>=1.16.0,<2.0.0      # OCR support
# PyPDF2>=3.0.0,<4.0.0          # PDF validation
# reportlab>=4.0.0,<5.0.0       # PDF generation
# openpyxl>=3.1.0,<4.0.0        # Excel export

# eSTAR XML Import/Export (estar_xml.py)
pikepdf>=8.0.0,<10.0.0
beautifulsoup4>=4.12.0,<5.0.0
lxml>=4.9.0,<6.0.0
defusedxml>=0.7.1,<1.0.0

# Secure credential storage (setup_api_key.py, bridge server auth)
keyring>=24.0.0,<26.0.0

# Dev / Testing
pytest>=7.4.0,<9.0.0
pytest-cov>=4.1.0,<6.0.0

# Optional: Machine Learning (approval_probability.py)
# When installed, enables ML-based supplement approval predictions.
# Without sklearn, falls back to rule-based statistical scoring.
# Install with: pip install scikit-learn>=1.3.0,<2.0.0
# scikit-learn>=1.3.0,<2.0.0  # Uncomment to enable ML features
